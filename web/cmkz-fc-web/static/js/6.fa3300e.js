(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{312:function(t,e,i){"use strict";i.r(e);var n=i(798),r=i(388);for(var a in r)"default"!==a&&function(t){i.d(e,t,function(){return r[t]})}(a);i(615);var s=i(16),o=Object(s.a)(r.default,n.a,n.b,!1,null,"70c98a68",null);o.options.__file="src/components/login/index.vue",e.default=o.exports},366:function(t,e,i){"use strict";var n=i(17);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(i(373)),a={User:{info:function(){return r.default.get("/account/info")}},Dict:{get:function(){return r.default.get("/dict")}},Home:{getMessageList:function(){return r.default.get("/home/messages")}},Account:{menus:function(){}},Login:{login:function(t){return r.default.postJson("/login",t)},logout:function(t){return r.default.post("/logout",t)}},Management:{users:function(t){return r.default.get("/management/users",t)},roles:function(t){return r.default.get("/management/roles",t)}}};e.default=a},373:function(t,e,i){"use strict";(function(t){var n=i(17);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(i(390)),a=n(i(391)),s=n(i(73)),o={repeatable:!1},h={PREFIX:"/api",Author:s.default.getAuthor()||"heyui",requestingApi:new Set,extractUrl:function(t){return t?t.split("?")[0]:""},isRequesting:function(t){var e=this.extractUrl(t);return this.requestingApi.has(e)},addRequest:function(t){var e=this.extractUrl(t);this.requestingApi.add(e)},deleteRequest:function(t){var e=this.extractUrl(t);this.requestingApi.delete(e)},get:function(t,e,i){var n={url:t,method:"GET"};return e&&(n.params=e),this.ajax(n,i)},post:function(t,e,i){var n={url:t,method:"POST"};return e&&(n.data=a.default.stringify(e)),this.ajax(n,i)},postJson:function(t,e,i){return this.ajax({url:t,method:"POST",data:e},i)},patchJson:function(t,e,i,n){return this.ajax({url:t,method:"PATCH",data:e},n)},delete:function(t,e){return this.ajax({url:t,method:"DELETE"},e)},ajax:function(e,i){var n=s.default.extend({},o,e,i||{});n.crossDomain=0===n.url.indexOf("http");var h=n.url;if(n.crossDomain||(h=n.url=this.PREFIX+n.url),"GET"!=n.method){if(this.isRequesting(h))return new Promise(function(t,e){t({ok:!1,msg:"重复请求"})});!1===n.repeatable&&this.addRequest(h)}var l={headers:{author:this.Author,Authorization:s.default.getLocal("token")},responseType:"json",validateStatus:function(t){return!0},paramsSerializer:function(t){return a.default.stringify(t,{allowDots:!0})}};n.crossDomain&&(l.headers={});var u=this;return n=s.default.extend({},l,n),new Promise(function(e){return r.default.request(n).then(function(i){u.deleteRequest(n.url);var r=i.data,a=i.status;if(200!=a){if(401==a)return void(window.top.location="/login");500==a?t.$Message.error("后台异常"):404==a?t.$Message.error("请求不存在"):200!=a&&t.$Message.error(r._msg||"请求异常")}r.ok=200==r.status,e(r)}).catch(function(){u.deleteRequest(n.url),e({ok:!1})})})}};e.default=h}).call(this,i(75))},388:function(t,e,i){"use strict";i.r(e);var n=i(389),r=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,function(){return n[t]})}(a);e.default=r.a},389:function(t,e,i){"use strict";(function(t,n,r,a){var s=i(17);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=s(i(610)),h=s(i(613)),l={components:{"lottie-player":s(i(614)).default},data:function(){return{innerHeight:window.innerHeight,model:{username:"",password:""},ctx:t.get("ctx"),year:n().year(),loginContent:!1,spaceboi:null}},created:function(){this.listenResize()},mounted:function(){var t=this;this.spaceboi=new o.default(this.$refs.canvas,h.default),this.spaceboi.start(),this.initLottie(),this.$nextTick(function(){t.loginContent=!0})},methods:{submit:function(){var e=this;r.Login.login(this.model).then(function(i){if(i.ok){var n=i.body;a.saveCookie("kb-token-cookie",n._id,null,"/",60*e.preference.logoutLimit),a.saveSessionLocal("kb-token-session",n),t.set("SYS_MENUS",n.role.menus),t.trigger("SYS_MENU_UPDATE"),e.$router.push({path:"/"}),e.spaceboi.stop()}else e.$Message({type:"error",text:"用户名或密码不正确"});e.loading=!1})},listenResize:function(){var t=this,e=window.addEventListener("resize",function(){t.innerHeight!=window.innerHeight&&(t.innerHeight=window.innerHeight)});this.$once("hook:beforeDestroy",function(){window.removeEventListener("resize",e)}),window.dispatchEvent(new Event("resize"))},initLottie:function(){for(var e=this,i=[],n=1;n<=18;n++)i.push("".concat(t.get("imgUrl"),"src/static/lottie/").concat(n,".json"));var r=Math.floor(Math.random()*i.length);this.$nextTick(function(){var t=i[r],n=e.$el.querySelector(".lottie-player");n.load&&n.load(t)})}}};e.default=l}).call(this,i(49),i(76),i(366).default,i(73).default)},392:function(t,e,i){},610:function(t,e,i){"use strict";var n=i(17);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(i(611)),a=n(i(612)),s=function(){function t(e,i,n){(0,r.default)(this,t),e?(this.canvas=e,this.ctx=e.getContext("2d"),this.Delaunator=i,this.triangles=[],this.particles=[],this.coordinateTable={},this.baseCoordinateTable={},this.settings=u({triangleSize:130,bleed:200,noise:60,color1:"#360033",color2:"#0b8793",pointVariationX:20,pointVariationY:35,pointAnimationSpeed:15,image:!1,imageOpacity:.4},n),window.addEventListener("resize",this.resize.bind(this)),this.resize(),this.gradientOpacity=1):console.log("Need a valid canvas element.")}return(0,a.default)(t,[{key:"animate",value:function(){var t=this,e=this.ctx;if(e.clearRect(0,0,this.width,this.height),this.triangles.forEach(function(i){t.play||(t.triangles.length=0),e.beginPath();var n=[];n.push({x:i[0][0],y:i[0][1]}),n.push({x:i[1][0],y:i[1][1]}),n.push({x:i[2][0],y:i[2][1]});var r=i[3];e.fillStyle=r,e.strokeStyle=r;[0,1,2,0].forEach(function(i,r){if(t.coordinateTable[n[i].x]&&null!=t.coordinateTable[n[i].x][n[i].y]){var a={x:n[i].x,y:n[i].y},s=t.coordinateTable[n[i].x][n[i].y];0==r?e.moveTo(a.x+s.x,a.y+s.y):e.lineTo(a.x+s.x,a.y+s.y)}}),e.fill(),e.stroke()}),this.particles.forEach(function(e){t.play||(t.particles.length=0),e.update()}),this.particles.forEach(function(e){t.play||(t.particles.length=0),e.draw()}),this.settings.image){var i=e.createPattern(this.settings.image,"repeat");e.globalAlpha=this.settings.imageOpacity,e.fillStyle=i,e.fillRect(0,0,this.width,this.height),e.globalAlpha=1}this.animateCoordinateTable(),requestAnimationFrame(this.animate.bind(this))}},{key:"start",value:function(){this.play=!0,this.animate()}},{key:"stop",value:function(){this.play=!1}},{key:"generateTriangles",value:function(){var t=this,e=[],i={};e.push([0,0]),e.push([0,this.height]),e.push([this.width,0]),e.push([this.width,this.height]);for(var n=this.settings.bleed,r=this.settings.triangleSize,a=this.settings.noise,s=0-n;s<this.width+n;s+=r)for(var o=0-n;o<this.height+n;o+=r){var u=s+c(0,a),f=o+c(0,a);e.push([u,f])}for(var d=this.Delaunator.from(e).triangles,v=[],g=0;g<d.length;g+=3){var p=[e[d[g]],e[d[g+1]],e[d[g+2]]],y=[];y.push({x:p[0][0],y:p[0][1]}),y.push({x:p[1][0],y:p[1][1]}),y.push({x:p[2][0],y:p[2][1]});var m=h(l(y),this.width,this.height,this.settings.color1,this.settings.color2);p.push(m);for(o=0;o<=2;o++){var x=e[d[g+o]];u=x[0],f=x[1]}v.push(p)}var w={};v.forEach(function(e){e.forEach(function(e){var n=e[0],r=e[1];i[n]||(i[n]={});var a=n/t.width;i[n][r]=0,w[n]||(w[n]={}),w[n][r]=2*a*Math.PI})}),this.triangles=v,this.coordinateTable=i,this.baseCoordinateTable=w}},{key:"generateParticles",value:function(){for(var t=[],e=0;e<250;e++){var i={ctx:this.ctx,width:this.width,height:this.height};t.push(new o(i))}this.particles=t}},{key:"animateCoordinateTable",value:function(){var t=this;Object.keys(this.coordinateTable).forEach(function(e){Object.keys(t.coordinateTable[e]).forEach(function(i){t.baseCoordinateTable[e][i]+=t.settings.pointAnimationSpeed/1e3;var n=Math.cos(t.baseCoordinateTable[e][i])*t.settings.pointVariationX,r=Math.sin(t.baseCoordinateTable[e][i])*t.settings.pointVariationY;t.coordinateTable[e][i]={x:n,y:r}})})}},{key:"resize",value:function(){var t=this.canvas.parentElement;this.canvas.width=t.clientWidth,this.canvas.height=t.clientHeight,this.width=t.clientWidth,this.height=t.clientHeight,this.generateTriangles(),this.generateParticles()}}]),t}(),o=function(){function t(e){(0,r.default)(this,t),this.ctx=e.ctx,this.x=c(0,e.width),this.y=c(0,e.height),this.ox=this.x,this.oy=this.y,this.interval=c(1e3,5e3),this.limit=c(5,15),this.opacity=f(.1,.7),this.r=f(1,2)}return(0,a.default)(t,[{key:"update",value:function(){this.x=this.ox+Math.cos(performance.now()/this.interval)*this.limit,this.y=this.oy+Math.sin(performance.now()/this.interval)*this.limit/2}},{key:"draw",value:function(){this.ctx.beginPath(),this.ctx.arc(this.x,this.y,this.r,0,2*Math.PI),this.ctx.fillStyle="rgba(255,255,255, "+this.opacity+")",this.ctx.fill()}}]),t}();function h(t,e,i,n,r){var a=t.x,s=0;(s=(t.y/i+(s=a/e))/2)>1?s=1:s<0&&(s=0);var o=n,h=r,l=function(t){return 1==(t=t.toString(16)).length?"0"+t:t},u=Math.ceil(parseInt(o.substring(1,3),16)*s+parseInt(h.substring(1,3),16)*(1-s)),c=Math.ceil(parseInt(o.substring(3,5),16)*s+parseInt(h.substring(3,5),16)*(1-s)),f=Math.ceil(parseInt(o.substring(5,7),16)*s+parseInt(h.substring(5,7),16)*(1-s));return"#"+l(u)+l(c)+l(f)}function l(t){var e=0,i=0;return t.forEach(function(t){e+=t.x,i+=t.y}),{x:e/t.length,y:i/t.length}}var u=function(t){t=t||{};for(var e=1;e<arguments.length;e++)if(arguments[e])for(var i in arguments[e])arguments[e].hasOwnProperty(i)&&(t[i]=arguments[e][i]);return t};function c(t,e){return Math.floor(Math.random()*(e-t+1))+t}function f(t,e){return Math.random()*(e-t)+t}var d=s;e.default=d},613:function(t,e,i){"use strict";var n,r,a,s=i(17)(i(139));a=function(){function t(t){if(!ArrayBuffer.isView(t))throw new Error("Expected coords to be a typed array.");var h=1/0,l=1/0,u=-1/0,c=-1/0,f=t.length>>1,d=this.ids=new Uint32Array(f);this.coords=t;for(var v=0;v<f;v++){var g=t[2*v],p=t[2*v+1];g<h&&(h=g),p<l&&(l=p),g>u&&(u=g),p>c&&(c=p),d[v]=v}var y,m,x,w=(h+u)/2,_=(l+c)/2,b=1/0;for(v=0;v<f;v++){var k=e(w,_,t[2*v],t[2*v+1]);k<b&&(y=v,b=k)}for(b=1/0,v=0;v<f;v++)v!==y&&(k=e(t[2*y],t[2*y+1],t[2*v],t[2*v+1]))<b&&k>0&&(m=v,b=k);var E=1/0;for(v=0;v<f;v++)if(v!==y&&v!==m){var T=n(t[2*y],t[2*y+1],t[2*m],t[2*m+1],t[2*v],t[2*v+1]);T<E&&(x=v,E=T)}if(E===1/0)throw new Error("No Delaunay triangulation exists for this input.");if(i(t[2*y],t[2*y+1],t[2*m],t[2*m+1],t[2*x],t[2*x+1])<0){var M=m;m=x,x=M}var S=t[2*y],C=t[2*y+1],z=t[2*m],P=t[2*m+1],A=t[2*x],L=t[2*x+1],j=function(t,e,i,n,r,a){var s=(i-=S)*i+(n-=C)*n,o=(r-=S)*r+(a-=C)*a,h=i*a-n*r;return{x:S+.5*(a*s-n*o)/h,y:C+.5*(i*o-r*s)/h}}(0,0,z,P,A,L);for(this._cx=j.x,this._cy=j.y,function t(e,i,n,r,a,h){var l,u,c;if(r-n<=20)for(l=n+1;l<=r;l++){for(c=e[l],u=l-1;u>=n&&s(i,e[u],c,a,h)>0;)e[u+1]=e[u--];e[u+1]=c}else{for(u=r,o(e,n+r>>1,l=n+1),s(i,e[n],e[r],a,h)>0&&o(e,n,r),s(i,e[l],e[r],a,h)>0&&o(e,l,r),s(i,e[n],e[l],a,h)>0&&o(e,n,l),c=e[l];;){do{l++}while(s(i,e[l],c,a,h)<0);do{u--}while(s(i,e[u],c,a,h)>0);if(u<l)break;o(e,l,u)}e[n+1]=e[u],e[u]=c,r-l+1>=u-n?(t(e,i,l,r,a,h),t(e,i,n,u-1,a,h)):(t(e,i,n,u-1,a,h),t(e,i,l,r,a,h))}}(d,t,0,d.length-1,j.x,j.y),this._hashSize=Math.ceil(Math.sqrt(f)),this._hash=[],v=0;v<this._hashSize;v++)this._hash[v]=null;var q=this.hull=r(t,y);this._hashEdge(q),q.t=0,q=r(t,m,q),this._hashEdge(q),q.t=1,q=r(t,x,q),this._hashEdge(q),q.t=2;var O,$,R=2*f-5,D=this.triangles=new Uint32Array(3*R),H=this.halfedges=new Int32Array(3*R);this.trianglesLen=0,this._addTriangle(y,m,x,-1,-1,-1);for(var I=0;I<d.length;I++)if(g=t[2*(v=d[I])],p=t[2*v+1],!(g===O&&p===$||(O=g,$=p,g===S&&p===C||g===z&&p===P||g===A&&p===L))){var U,N=this._hashKey(g,p),J=N;do{U=this._hash[J],J=(J+1)%this._hashSize}while((!U||U.removed)&&J!==N);for(q=U;i(g,p,q.x,q.y,q.next.x,q.next.y)>=0;)if((q=q.next)===U)throw new Error("Something is wrong with the input points.");var V=q===U,F=this._addTriangle(q.i,v,q.next.i,-1,-1,q.t);q.t=F,(q=r(t,v,q)).t=this._legalize(F+2),q.prev.prev.t===H[F+1]&&(q.prev.prev.t=F+2);for(var X=q.next;i(g,p,X.x,X.y,X.next.x,X.next.y)<0;)F=this._addTriangle(X.i,v,X.next.i,X.prev.t,-1,X.t),X.prev.t=this._legalize(F+2),this.hull=a(X),X=X.next;if(V)for(X=q.prev;i(g,p,X.prev.x,X.prev.y,X.x,X.y)<0;)F=this._addTriangle(X.prev.i,v,X.i,-1,X.t,X.prev.t),this._legalize(F+2),X.prev.t=F,this.hull=a(X),X=X.prev;this._hashEdge(q),this._hashEdge(q.prev)}this.triangles=D.subarray(0,this.trianglesLen),this.halfedges=H.subarray(0,this.trianglesLen)}function e(t,e,i,n){var r=t-i,a=e-n;return r*r+a*a}function i(t,e,i,n,r,a){return(n-e)*(r-i)-(i-t)*(a-n)}function n(t,e,i,n,r,a){var s=(i-=t)*i+(n-=e)*n,o=(r-=t)*r+(a-=e)*a;if(0===s||0===o)return 1/0;var h=i*a-n*r;if(0===h)return 1/0;var l=.5*(a*s-n*o)/h,u=.5*(i*o-r*s)/h;return l*l+u*u}function r(t,e,i){var n={i:e,x:t[2*e],y:t[2*e+1],t:0,prev:null,next:null,removed:!1};return i?(n.next=i.next,n.prev=i,i.next.prev=n,i.next=n):(n.prev=n,n.next=n),n}function a(t){return t.prev.next=t.next,t.next.prev=t.prev,t.removed=!0,t.prev}function s(t,i,n,r,a){return e(t[2*i],t[2*i+1],r,a)-e(t[2*n],t[2*n+1],r,a)||t[2*i]-t[2*n]||t[2*i+1]-t[2*n+1]}function o(t,e,i){var n=t[e];t[e]=t[i],t[i]=n}function h(t){return t[0]}function l(t){return t[1]}return t.from=function(e,i,n){i||(i=h),n||(n=l);for(var r=e.length,a=new Float64Array(2*r),s=0;s<r;s++){var o=e[s];a[2*s]=i(o),a[2*s+1]=n(o)}return new t(a)},t.prototype={_hashEdge:function(t){this._hash[this._hashKey(t.x,t.y)]=t},_hashKey:function(t,e){var i=t-this._cx,n=e-this._cy,r=1-i/(Math.abs(i)+Math.abs(n));return Math.floor((2+(n<0?-r:r))/4*this._hashSize)},_legalize:function(t){var e,i,n,r,a,s,o,h,l,u,c=this.triangles,f=this.coords,d=this.halfedges,v=d[t],g=t-t%3,p=v-v%3,y=g+(t+1)%3,m=g+(t+2)%3,x=p+(v+2)%3,w=c[m],_=c[t],b=c[y],k=c[x];if(e=f[2*w],i=f[2*w+1],n=f[2*_],r=f[2*_+1],a=f[2*b],s=f[2*b+1],l=(n-=o=f[2*k])*n+(r-=h=f[2*k+1])*r,(e-=o)*(r*(u=(a-=o)*a+(s-=h)*s)-l*s)-(i-=h)*(n*u-l*a)+(e*e+i*i)*(n*s-r*a)<0){c[t]=k,c[v]=w,this._link(t,d[x]),this._link(v,d[m]),this._link(m,x);var E=p+(v+1)%3;return this._legalize(t),this._legalize(E)}return m},_link:function(t,e){this.halfedges[t]=e,-1!==e&&(this.halfedges[e]=t)},_addTriangle:function(t,e,i,n,r,a){var s=this.trianglesLen;return this.triangles[s]=t,this.triangles[s+1]=e,this.triangles[s+2]=i,this._link(s,n),this._link(s+1,r),this._link(s+2,a),this.trianglesLen+=3,s}},t},"object"==(0,s.default)(e)&&void 0!==t?t.exports=a():void 0===(r="function"==typeof(n=a)?n.call(e,i,e,t):n)||(t.exports=r)},615:function(t,e,i){"use strict";var n=i(392);i.n(n).a},798:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{"font-size":"0"}},[i("canvas",{ref:"canvas",staticClass:"login-vue",attrs:{height:t.innerHeight}}),t._v(" "),i("div",{staticClass:"login-container"},[i("div",{staticClass:"lottie-div"},[i("lottie-player",{staticClass:"lottie-player",attrs:{autoplay:"",loop:"",background:"transparent",mode:"normal"}})],1),t._v(" "),i("div",{staticClass:"login-content"},[t._m(0),t._v(" "),i("div",{staticClass:"login-input"},[i("div",{staticClass:"h-input h-input-prefix-icon"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.model.username,expression:"model.username"}],attrs:{type:"text",name:"username",autocomplete:"off"},domProps:{value:t.model.username},on:{input:function(e){e.target.composing||t.$set(t.model,"username",e.target.value)}}}),t._v(" "),i("i",{staticClass:"h-icon-user"})]),t._v(" "),i("div",{staticClass:"h-input h-input-prefix-icon"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.model.password,expression:"model.password"}],attrs:{type:"password",name:"password"},domProps:{value:t.model.password},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.submit(e)},input:function(e){e.target.composing||t.$set(t.model,"password",e.target.value)}}}),t._v(" "),i("i",{staticClass:"h-icon-lock"})])]),t._v(" "),i("div",{staticClass:"buttonDiv"},[i("Button",{attrs:{block:"",color:"primary",size:"l"},on:{click:t.submit}},[t._v("\n          登录\n        ")])],1),t._v(" "),i("p",{staticClass:"copyright"},[t._v(" Copyright ©"+t._s(t.year)+" 轲目苦津")])])])])},r=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"login-title"},[e("span",{staticClass:"app-logo-icon",staticStyle:{"background-image":"url('/static/images/src/images/logo.png')"}}),this._v("\n          论坛社区\n      ")])}];n._withStripped=!0,i.d(e,"a",function(){return n}),i.d(e,"b",function(){return r})}}]);